
open import Data.Nat using (zero; suc)
open import Data.Fin
open import Relation.Binary.PropositionalEquality using (cong; _≢_; refl)
open import Relation.Nullary.Negation using (contradiction)
open import Function using (_∘_)

module RoutingLib.Data.Fin where
  
  punchout : ∀ {m} {i j : Fin (suc m)} → i ≢ j → Fin m
  punchout {_}     {zero}   {zero}  i≢j = contradiction refl i≢j
  punchout {_}     {zero}   {suc j} _   = j
  punchout {zero}  {suc ()} 
  punchout {suc n} {suc i}  {zero}  _   = zero
  punchout {suc n} {suc i}  {suc j} i≢j = suc (punchout (i≢j ∘ cong suc))

  punchin : ∀ {m} → Fin (suc m) → Fin m → Fin (suc m)
  punchin zero    j       = suc j
  punchin (suc i) zero    = zero
  punchin (suc i) (suc j) = suc (punchin i j)
